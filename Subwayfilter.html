<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>수요조사 결과</title>
    <script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="http://joohyuck.github.io/FileSaver.min.js"></script>
    <script type="text/javascript">
      var subwayStationArray = ['교대','남부터미널','양재','매봉','도곡','대치','학여울','대청','일원','수서','경찰병원','당고개','상계','노원','창동','쌍문','수유','미아','미아사거리','길음','성신여대입구','한성대입구','혜화','명동','회현','숙대입구','삼각지','신용산','이촌','동작','총신대입구','남태령','남영','용산','노량진','대방','영등포','서빙고','한남','응봉','회기','외대앞','신이문','석계','광운대','월계','녹천','서울','시청','종각','종로3가','종로5가','동대문','신설동','제기동','청량리','동묘앞','을지로입구','을지로3가','을지로4가','동대문역사문화공원','신당','상왕십리','왕십리','한양대','뚝섬','성수','건대입구','구의','강변','잠실나루','잠실','신천','종합운동장','삼성','선릉','역삼','강남','서초','방배','사당','낙성대','서울대입구','봉천','신림','신대방','구로디지털단지','대림','신도림','문래','영등포구청','당산','합정','홍대입구','신촌','이대','아현','충정로','용답','신답','도림천','양천구청','신정네거리','용두','지축','구파발','연신내','불광','녹번','홍제','무악재','독립문','경복궁','안국','충무로','동대입구','약수','금호','옥수','압구정','신사','잠원','고속터미널','풍산','일산','탄현','운정','금릉','금촌','월롱','파주','문산','서울','신내','갈매','별내','퇴계원','사릉','금곡','평내호평','천마산','마석','대성리','청평','상천','가평','굴봉산','백양리','강촌','김유정','남춘천','춘천','봉명','쌍용','아산','탕정','배방','풍기','온양온천','신창','선바위','원당','화정','대곡','백석','마두','정발산','주엽','대화','방화','개화산','김포공항','송정','마곡','발산','우장산','화곡','까치산','신정','목동','오목교','양평','영등포시장','여의도','여의나루','마포','공덕','애오개','서대문','광화문','월드컵경기장','마포구청','망원','상수','광흥창','대흥','효창공원앞','녹사평','이태원','한강진','버티고개','창신','보문','안암','고려대','월곡','상월곡','돌곶이','태릉입구','화랑대','봉화산','장암','수락산','마들','청구','신금호','행당','마장','답십리','장한평','군자','아차산','광나루','천호','강동','길동','굽은다리','명일','고덕','상일동','둔촌동','올림픽공원','방이','오금','개롱','거여','마천','응암','역촌','독바위','구산','새절','증산','디지털미디어시티','경마공원','대공원','과천','정부과천청사','인덕원','평촌','범계','금정','구로','가산디지털단지','금천구청','석수','관악','안양','명학','군포','의왕','성균관대','화서','수원','독산','세류','병점','세마','오산대','오산','진위','송탄','서정리','지제','평택','성환','직산','두정','천안','당정','서동탄','광명','산본','대야미','반월','상록수','한대앞','중앙','고잔','초지','안산','신길온천','정왕','오이도','수리산','개봉','오류동','역곡','부천','송내','부평','백운','동암','주안','제물포','동인천','인천','구일','소사','부개','간석','도원','온수','중동','도화','서울숲','압구정로데오','선정릉','가천대','태평','모란','야탑','서현','수내','정자','미금','오리','이매','보정','죽전','구성','신갈','기흥','상갈','청명','영통','망포','매탄권선','수원시청','매교','달월','월곶','소래포구','인천논현','호구포','남동인더스파크','연수','송도','방학','도봉','도봉산','망월사','회룡','의정부','가능','녹양','양주','덕계','덕정','지행','동두천중앙','보산','동두천','소요산','삼송','한티','구룡','개포동','대모산입구','복정','신길','중랑','망우','양원','구리','도농','양정','덕소','도심','팔당','운길산','양수','신원','국수','아신','오빈','원덕','용문','서울','신촌','서강대','가좌','수색','화전','행신','능곡','곡산','백마','발곡','범골','경전철의정부','의정부시청','흥선','의정부중앙','동오','새말','경기도청북부청사','효자','곤제','어룡','송산','탑석','양평','원흥','청라국제도시','언주','삼성중앙','봉은사','강매','중계','하계','공릉','먹골','중화','상봉','면목','사가정','용마산','중곡','어린이대공원','뚝섬유원지','청담','강남구청','학동','논현','반포','내방','남성','숭실대입구','상도','장승배기','신대방삼거리','보라매','신풍','남구로','철산','광명사거리','천왕','까치울','부천종합운동장','춘의','신중동','부천시청','상동','삼산체육관','굴포천','암사','강동구청','몽촌토성','석촌','송파','가락시장','문정','장지','산성','남한산성입구','단대오거리','신흥','수진','계양','귤현','박촌','임학','계산','경인교대입구','작전','갈산','부평구청','부평시장','동수','부평삼거리','간석오거리','인천시청','예술회관','인천터미널','문학경기장','선학','신연수','원인재','동춘','동막','캠퍼스타운','테크노파크','지식정보단지','인천대입구','센트럴파크','국제업무지구','개화','공항시장','신방화','마곡나루','양천향교','가양','증미','등촌','염창','신목동','선유도','국회의사당','샛강','노량진','노들','흑석','구반포','신반포','사평','신논현','검암','운서','공항화물청사','인천국제공항','양재시민의숲','청계산입구','판교','강남대','지석','어정','동백','초당','삼가','시청·용인대','명지대','김량장','운동장·송담대','고진','보평','둔전','전대·에버랜드'];


      var stationNameArray = [];
      $.get("http://joohyuck.github.io/file/seoul.sudo_route_station(red).csv",function(data){
        var lines = data.split("\n");
        console.log(lines.length+"개의 정류장");
        lines.forEach(function(element, index){
          var arr1 = element.split(",")[9];
          var arr2 = arr1.split("&");
          var passRedRoute = 0;
          arr2.forEach(function(el){
            if(el.split("")[0] == "*") passRedRoute++;
          });
          if(passRedRoute != 0) stationNameArray.push(element.split(",")[1]);
        });
        console.log(stationNameArray);
        var resultContent ="";
        subwayStationArray.forEach(function(element){
          var str = element + "역";
          var count = 0;
          stationNameArray.forEach(function(el){
            if(el.indexOf(str) != -1) count ++;
          });
          resultContent += str +","+ count + "\n";
        });

        var BOM = "\uFEFF";
        var    csvData = BOM + resultContent;
        var blob = new Blob([csvData], { type: "text/csv;charset=utf-8" });
        saveAs(blob, "notIncludedSubway.csv");

      });

    </script>
  </head>
  <body>
  </body>
</html>

